---
layout: post
title: 'Pythonçˆ¬è™«-æˆ‘çˆ¬æˆ‘è‡ªå·±'
subtitle: 'åšå®¢ä¿¡æ¯'
date: 2020-03-10
categories: æŠ€æœ¯
tags: Python çˆ¬è™«
music-id: 424264956
---

ä¹‹å‰éƒ½æ˜¯æ‹¿åˆ«äººçš„ç½‘ç«™ç»ƒæ‰‹ï¼Œä»Šå¤©çœ‹ç€æ— èŠçš„ç½‘è¯¾ï¼Œå°±æƒ³çˆ¬ä¸€ä¸‹è‡ªå·±çš„åšå®¢ğŸ™ƒ

èŒç”Ÿè¿™ä¸ªæƒ³æ³•çš„æ—¶å€™å°±æƒ³åˆ°äº†å§¬æ— å‘½çš„ç»å…¸å°è¯ï¼š
![](https://cdn.jsdelivr.net/gh/JMbaozi/Blogimg/Pictures/20200310130733.png)
![](https://cdn.jsdelivr.net/gh/JMbaozi/Blogimg/Pictures/1583816438940.png)

* ç¨‹åºï¼š[blogArchive.py](https://github.com/JMbaozi/absorb/blob/master/program/blogArchive.py)

* ç»“æœï¼š[blogArchive.txt](https://github.com/JMbaozi/absorb/blob/master/file/blogArchive.txt)

ä¸€å…±24ç¯‡åšå®¢ï¼Œæ¯æ¡è®°å½•éƒ½åŒ…æ‹¬äº†æ—¶é—´ã€æ ‡é¢˜ã€å‰¯æ ‡é¢˜å’Œæ ‡ç­¾

è¿›å…¥é¦–é¡µåï¼Œç”¨æ£€æŸ¥å·¥å…·æŸ¥çœ‹æ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€æ—¶é—´å’Œæ ‡ç­¾æ‰€å¯¹åº”çš„htmlæ ‡ç­¾ï¼Œä»¥æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ä¸ºä¾‹ï¼š
```html
<section class="post-preview">
  <a class="post-link" href="/2020/03/09/%E7%BD%91%E7%AB%99%E8%AE%BE%E7%BD%AE-%E8%B8%A9%E5%9D%91.html" title="é˜¿é‡Œäº‘ECSæœåŠ¡å™¨éƒ¨ç½²"></a>
  <h2 class="post-title">é˜¿é‡Œäº‘ECSæœåŠ¡å™¨éƒ¨ç½²</h2>
  <h3 class="post-subtitle">éƒ¨ç½²&è¸©å‘</h3>
</section>
```
å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¦æ‰¾çš„å†…å®¹åˆ†åˆ«ä¸º```<h2>```å’Œ```<h3>```æ ‡ç­¾çš„ä¿¡æ¯ï¼Œæ‰€ä»¥åˆ©ç”¨ä¸‹é¢çš„ä»£ç å°±å¯ä»¥çˆ¬å–è¯¥é¡µçš„æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ï¼Œæ—¶é—´å’Œæ ‡ç­¾çš„è¿‡ç¨‹ä¸æ­¤ç±»ä¼¼ï¼š

```python
title_list = soup.find_all('section',class_='post-preview')#æ ‡é¢˜&å‰¯æ ‡é¢˜
for each in title_list:
    title = each.h2.text.strip()
    subtitle = each.h3.text.strip()
    blog_tilte.append(title)
    blog_subtitle.append(subtitle)
```

æœ‰çš„åšå®¢çš„æ ‡ç­¾ä¸æ­¢ä¸€ä¸ªï¼Œè¿˜æ˜¯ä»¥è¿™ç¯‡ä¸ºä¾‹ï¼š
```html
<div class="post-tags">
     <a href=/tags.html#%E6%9C%8D%E5%8A%A1%E5%99%A8 class="post-tag">æœåŠ¡å™¨</a>
     <a href=/tags.html#%E7%BD%91%E7%AB%99 class="post-tag">ç½‘ç«™</a>
     <a href=/tags.html#%E5%9F%9F%E5%90%8D class="post-tag">åŸŸå</a>
</div>
```

ä¸€å…±æœ‰ä¸‰ä¸ªæ ‡ç­¾ï¼Œå¦‚æœæˆ‘ä»¬çˆ¬å–<a>æ ‡ç­¾çš„è¯åªä¼šè·å¾—â€œæœåŠ¡å™¨â€è¿™ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸¤å¤–ä¸¤ä¸ªåˆ™ä¸ä¼šï¼Œæ‰€ä»¥ç›´æ¥çˆ¬å–```<div>```æ ‡ç­¾çš„æ–‡å­—å°±å¯ä»¥è·å¾—æ‰€æœ‰æ ‡ç­¾ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™æ ·è·å¾—çš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š

	æœåŠ¡å™¨
	ç½‘ç«™
	åŸŸå

è¿™äº›æ ‡ç­¾æ˜¯ä»¥å›è½¦ç»“å°¾çš„ï¼Œè¿™æ ·ä¿å­˜åä¸ç¾è§‚ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨```.replace()```å‡½æ•°å°†å›è½¦æ›¿æ¢ä¸ºç©ºæ ¼ï¼Œè¯¦ç»†ä»£ç å¦‚ä¸‹ï¼š
```python
tag_list = soup.find_all('div',class_='post-tags')#æ ‡ç­¾
for each in tag_list:
    tag = each.text.strip()
    ag =tag.replace('\n','  ')#å°†å›è½¦æ›¿æ¢ä¸ºç©ºæ ¼
    blog_tag.append(tag)
```

#### ä»£ç 
```python
"""
çˆ¬å–jmbaozi.topåšå®¢ä¿¡æ¯
æ—¶é—´ï¼š2020.3.10  12:46
"""

import requests
from bs4 import BeautifulSoup
import lxml

url = 'https://jmbaozi.top/'
headers = {
    'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.43 Safari/537.36 Edg/81.0.416.28'
}
blog_tilte = []#æ ‡é¢˜
blog_subtitle = []#å‰¯æ ‡é¢˜
blog_tag = []#æ ‡ç­¾
blog_time = []#æ—¶é—´
page_number = 4#åšå®¢é¡µæ•°

#è·å–ä¿¡æ¯
def get_data():
    for i in range(1,page_number+1):
        if i==1:
            link = url
        else:
            link = url + 'page' + str(i)
        r = requests.get(link,headers = headers)
        soup = BeautifulSoup(r.text,'lxml')
        title_list = soup.find_all('section',class_='post-preview')#æ ‡é¢˜&å‰¯æ ‡é¢˜
        for each in title_list:
            title = each.h2.text.strip()
            subtitle = each.h3.text.strip()
            blog_tilte.append(title)
            blog_subtitle.append(subtitle)
        tag_list = soup.find_all('div',class_='post-tags')#æ ‡ç­¾
        for each in tag_list:
            tag = each.text.strip()
            tag =tag.replace('\n','  ')#å°†å›è½¦æ›¿æ¢ä¸ºç©ºæ ¼
            blog_tag.append(tag)
        time_list = soup.find_all('time',class_='post-date')#æ—¶é—´
        for each in time_list:
            time = each.text.strip()
            blog_time.append(time)

#å†™å…¥ä¿¡æ¯
def write_data():
    with open('blogArchive.txt','w',encoding = 'utf-8') as file:
        for i in range(len(blog_tilte)):
            file.write(blog_time[i]+': '+blog_tilte[i]+'---'+blog_subtitle[i]+'     Tags: '+blog_tag[i])
            file.write('\n\n')

if __name__ == '__main__':
    get_data()
    write_data()
    print('å†™å…¥å®Œæˆï¼')


```

#### ç»“æœ

    09 Mar 2020: é˜¿é‡Œäº‘ECSæœåŠ¡å™¨éƒ¨ç½²---éƒ¨ç½²&è¸©å‘     Tags: æœåŠ¡å™¨  ç½‘ç«™  åŸŸå
    
    08 Mar 2020: ç‰©ç†-ç¬¬2ç« ä¹ é¢˜---ä¹ é¢˜ç²¾ç‚¼     Tags: ç‰©ç†  å­¦ä¹ 
    
    03 Mar 2020: LeetCodeåˆ·é¢˜å†ç¨‹---èœé¸Ÿå†™BUG     Tags: Python  æŠ€æœ¯  å­¦ä¹ 
    
    03 Mar 2020: Github+jsDelivr+PicGo æ‰“é€ ç¨³å®šå¿«é€Ÿã€é«˜æ•ˆå…è´¹å›¾åºŠ---é«˜é€Ÿå…è´¹å›¾åºŠ     Tags: æ‚è°ˆ  å›¾åºŠ
    
    02 Mar 2020: é˜¿é‡Œäº‘ç™½å«–ä¸€å¹´æœåŠ¡å™¨---ECSæœåŠ¡å™¨å…è´¹é¢†     Tags: æ‚è°ˆ  æœåŠ¡å™¨
    
    02 Mar 2020: æˆæœæ–—é±¼ç›´æ’­æˆªå›¾(ç»­)---å±å®æ‹‰è·¨     Tags: æˆæœ  ç›´æ’­
    
    01 Mar 2020: ç‰©ç†-ç¬¬1ç« ä¹ é¢˜---ä¹ é¢˜ç²¾ç‚¼     Tags: ç‰©ç†  å­¦ä¹ 
    
    28 Feb 2020: Pythonçˆ¬è™«-çˆ¬å–è±†ç“£ç”µå½±TOP250---è±†ç“£ç”µå½±     Tags: Python  æŠ€æœ¯
    
    26 Feb 2020: æˆæœæ–—é±¼ç›´æ’­æˆªå›¾---äººäººéƒ½æ˜¯èµµæµ·æ£ &è“æˆ˜é     Tags: æˆæœ  ç›´æ’­
    
    25 Feb 2020: è‹±è¯­å››çº§-ä½œæ–‡èŒƒæ–‡---èŒƒæ–‡æ±‡æ€»     Tags: è‹±è¯­  å››çº§  å­¦ä¹ 
    
    24 Feb 2020: ç‰©ç†-è´¨ç‚¹è¿åŠ¨ä¹ é¢˜æ•´ç†---ä¹ é¢˜æ•´ç†     Tags: ç‰©ç†  å­¦ä¹ 
    
    22 Feb 2020: è‹±è¯­å››çº§-ä½œæ–‡å…¬å¼2---åœŸå‘³å•è¯æ•´æ”¹     Tags: è‹±è¯­  å››çº§  å­¦ä¹ 
    
    21 Feb 2020: è‹±è¯­å››çº§-ä½œæ–‡å…¬å¼1---ä½œæ–‡å…¬å¼æ¨¡å—     Tags: è‹±è¯­  å››çº§  å­¦ä¹ 
    
    19 Feb 2020: Pythonå°æ¸¸æˆâ€”è´ªåƒè›‡---è´ªåƒè›‡     Tags: Python  æ¸¸æˆ
    
    18 Feb 2020: å¤§åœ°æµ‹é‡å­¦åŸºç¡€2---å¤§åœ°æµ‹é‡æ§åˆ¶ç½‘     Tags: å¤§åœ°æµ‹é‡å­¦  å­¦ä¹ 
    
    17 Feb 2020: äººå·¥æ™ºéšœæ¨èæœºåˆ¶---äººå·¥æ™ºéšœ     Tags: æ‚è°ˆ  ç”Ÿæ´»
    
    16 Feb 2020: Pythonè¿›ç¨‹ä¸çº¿ç¨‹---è¿›ç¨‹ä¸çº¿ç¨‹     Tags: Python  æŠ€æœ¯
    
    14 Feb 2020: æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€---æ­£åˆ™è¡¨è¾¾å¼     Tags: Python  æŠ€æœ¯
    
    14 Feb 2020: Bilibili-å¤„å¤„å»---æ˜Ÿçˆ·å¤„å¤„å»     Tags: è§†é¢‘  æ‚è°ˆ
    
    13 Feb 2020: å¤§åœ°æµ‹é‡å­¦åŸºç¡€-1---å¤§åœ°æµ‹é‡     Tags: å¤§åœ°æµ‹é‡å­¦  å­¦ä¹ 
    
    12 Feb 2020: ç‰©ç†-è´¨ç‚¹è¿åŠ¨çš„æè¿°---è´¨ç‚¹è¿åŠ¨ä¹ é¢˜     Tags: ç‰©ç†  å­¦ä¹ 
    
    11 Feb 2020: Blogæ­å»º---æ­å»ºå†ç¨‹     Tags: åšå®¢  æ‚è°ˆ
    
    10 Feb 2020: æ„Ÿè°¢---ç¬¬ä¸€ä¸ªåšå®¢     Tags: æ‚è°ˆ
    
    10 Feb 2020: Pythonçˆ¬è™«-çˆ¬å–é™æ€ç½‘é¡µå›¾ç‰‡---çˆ¬å–å¦¹å­å›¾ç½‘ç«™     Tags: Python  æŠ€æœ¯


![](https://lz.sinaimg.cn/orj1080/ebeef3aaly3gcoray15tfj20zk1bf478.jpg)

